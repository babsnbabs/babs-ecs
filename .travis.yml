language: cpp

compiler:
  - clang

os:
  - linux
    addons:
        apt:
            sources:
            - ubuntu-toolchain-r-test
  - windows
  - osx

script:
  - mkdir build
  - cd build
  - cmake ..
  - if [ "$TRAVIS_OS_NAME" = "linux" ] || [ "$TRAVIS_OS_NAME" = "osx" ]; then make;                   fi
  - if [ "$TRAVIS_OS_NAME" = "linux" ] || [ "$TRAVIS_OS_NAME" = "osx" ]; then ./tests;                fi
  - if [ "$TRAVIS_OS_NAME" = "windows" ]; then cmake --build . --target ALL_BUILD --config Release;   fi
  - if [ "$TRAVIS_OS_NAME" = "windows" ]; then .\\Release\\tests.exe;                                 fi
